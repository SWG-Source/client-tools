// ======================================================================
//
// moore_lok_cantina.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.37 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.conversation;
include library.groundquests;
include library.money;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/moore_lok_cantina";

// ======================================================================
// Script Conditions
// ======================================================================

boolean moore_lok_cantina_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean moore_lok_cantina_condition_hasMooreTask (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return groundquests.isTaskActive(player, "u16_nym_themepark_interview_moore", "findSgtMoore");
}

// ----------------------------------------------------------------------

boolean moore_lok_cantina_condition_has2ndInterviewTask (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return groundquests.isTaskActive(player, "u16_nym_themepark_second_interview_moore", "findSgtMoore2nd");
}

// ----------------------------------------------------------------------

boolean moore_lok_cantina_condition_hasCompletedMoore (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return (groundquests.isTaskActive(player, "u16_nym_themepark_interview_moore", "tellJinkinsMoore")
	|| groundquests.hasCompletedQuest(player, "u16_nym_themepark_interview_moore"));
}

// ----------------------------------------------------------------------

boolean moore_lok_cantina_condition_hasCompleted2ndMoore (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return (groundquests.isTaskActive(player, "u16_nym_themepark_second_interview_moore", "tellKoleMoore")
	|| groundquests.hasCompletedQuest(player, "u16_nym_themepark_second_interview_moore"));
}

// ======================================================================
// Script Actions
// ======================================================================

void moore_lok_cantina_action_pay50 (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	if(!utils.hasScriptVar(player, "pay50"))
	{
		faceTo(npc, player);
		dictionary params = new dictionary();
		money.requestPayment(player, npc, 50, "pass_fail", params, true);
		utils.setScriptVar(player, "pay50", true);
	}
}

// ----------------------------------------------------------------------

void moore_lok_cantina_action_finishMooreInterview (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	groundquests.sendSignal(player, "hasSpokenSgtMoore");
}

// ----------------------------------------------------------------------

void moore_lok_cantina_action_pay100 (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	if(!utils.hasScriptVar(player, "pay100"))
	{
		dictionary params = new dictionary();
		money.requestPayment(player, npc, 100, "pass_fail", params, true);
		utils.setScriptVar(player, "pay100", true);	
	}
}

// ----------------------------------------------------------------------

void moore_lok_cantina_action_pay150 (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	if(!utils.hasScriptVar(player, "payLast"))
	{
		faceTo(npc, player);
		dictionary params = new dictionary();
		money.requestPayment(player, npc, 150, "pass_fail", params, true);
		utils.setScriptVar(player, "payLast", true);
	}
}

// ----------------------------------------------------------------------

void moore_lok_cantina_action_pay200 (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	if(!utils.hasScriptVar(player, "payLast"))
	{
		faceTo(npc, player);
		dictionary params = new dictionary();
		money.requestPayment(player, npc, 200, "pass_fail", params, true);
		utils.setScriptVar(player, "payLast", true);
	}
}

// ----------------------------------------------------------------------

void moore_lok_cantina_action_finish2ndMooreInterview (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	groundquests.sendSignal(player, "hasSpokenSgtMoore2nd");	
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int moore_lok_cantina_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What are you, a stalker? Go away!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Kole sent me. Tell me...
	if (response == "s_32")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: That will be 200 credits.
			string_id message = new string_id (c_stringFile, "s_33");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Fine, here.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Make it 100?
			boolean hasResponse1 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: No. You'll tell me, or answer to Nym.
			boolean hasResponse2 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_34");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_35");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That will be 200 credits.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fine, here.
	if (response == "s_34")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			moore_lok_cantina_action_pay200 (player, npc);

			//-- NPC: Good. Now that that is settled. What was your question?
			string_id message = new string_id (c_stringFile, "s_36");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Imperial Research Facility.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_49");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Make it 100?
	if (response == "s_38")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: 150...take it or leave it.
			string_id message = new string_id (c_stringFile, "s_39");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Fine, here.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No. You'll tell me, or answer to Nym.
	if (response == "s_35")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: You mean the pirate who's henchman sent you to see me? 
			string_id message = new string_id (c_stringFile, "s_37");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Make it 100?
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes, the pirate you owe money.
			boolean hasResponse1 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: This is a waste. I'll see you in the dungeon.
			boolean hasResponse2 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_42");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_43");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_52");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good. Now that that is settled. What was your question?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Imperial Research Facility.
	if (response == "s_49")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright. I can tell you that I worked for an Imperial Research Facility, but that we didn't use requisitioned Imperial soldiers for guards. Instead, we hired the most dangerous mercenaries we could find. The base is also guarded by reprogrammed droidekas, the same you saw in the mine.
			string_id message = new string_id (c_stringFile, "s_50");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Go on.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_51");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: 150...take it or leave it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fine, here.
	if (response == "s_40")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			moore_lok_cantina_action_pay150 (player, npc);

			//-- NPC: Good. Now that that is settled. What was your question?
			string_id message = new string_id (c_stringFile, "s_41");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Imperial Research Facility.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_49");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good. Now that that is settled. What was your question?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Imperial Research Facility.
	if (response == "s_49")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright. I can tell you that I worked for an Imperial Research Facility, but that we didn't use requisitioned Imperial soldiers for guards. Instead, we hired the most dangerous mercenaries we could find. The base is also guarded by reprogrammed droidekas, the same you saw in the mine.
			string_id message = new string_id (c_stringFile, "s_50");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Go on.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_51");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright. I can tell you that I worked for an Imperial Research Facility, but that we didn't use requisitioned Imperial soldiers for guards. Instead, we hired the most dangerous mercenaries we could find. The base is also guarded by reprogrammed droidekas, the same you saw in the mine.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Go on.
	if (response == "s_51")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: The facility is primarily used for weapons research and hidden, for the most part, from the prying eyes of Imperial General Otto.
			string_id message = new string_id (c_stringFile, "s_62");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You've mention him before...
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_63");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The facility is primarily used for weapons research and hidden, for the most part, from the prying eyes of Imperial General Otto.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You've mention him before...
	if (response == "s_63")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: He's the ranking officer at the Imperial Outpost on this planet. I don't have time to talk about him. Do you want to know about him or about the Research Facility or not?
			string_id message = new string_id (c_stringFile, "s_64");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about the facility.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_65");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He's the ranking officer at the Imperial Outpost on this planet. I don't have time to talk about him. Do you want to know about him or about the Research Facility or not?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the facility.
	if (response == "s_65")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: The base is responsible for manufacturing high-grade explosives for the Empire, including grenades. But like I mentioned, there is no obvious Imperial presence at the base. No Imperial soldiers, no guards. The entire base is staffed by trigger happy freelance mercenaries and Droidekas. 
			string_id message = new string_id (c_stringFile, "s_66");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Anything else?
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_67");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 10);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The base is responsible for manufacturing high-grade explosives for the Empire, including grenades. But like I mentioned, there is no obvious Imperial presence at the base. No Imperial soldiers, no guards. The entire base is staffed by trigger happy freelance mercenaries and Droidekas. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Anything else?
	if (response == "s_67")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: The facility houses a lot of research and prototype grenades. I'm sure Nym would like to get his hands on both.
			string_id message = new string_id (c_stringFile, "s_68");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Anything specific?
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_100");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The facility houses a lot of research and prototype grenades. I'm sure Nym would like to get his hands on both.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Anything specific?
	if (response == "s_100")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm sure all the research can be backed up to holodisk from the lab's computers. As far as the grenades, there are some Imperial Military Grade Grenade Casing Units. The Imps call them IMGGCUs. Just one of these would be very valuable.
			string_id message = new string_id (c_stringFile, "s_102");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What else?
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_103");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm sure all the research can be backed up to holodisk from the lab's computers. As far as the grenades, there are some Imperial Military Grade Grenade Casing Units. The Imps call them IMGGCUs. Just one of these would be very valuable.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What else?
	if (response == "s_103")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			moore_lok_cantina_action_finish2ndMooreInterview (player, npc);

			//-- NPC: That's all I can reveal. I haven't worked there for months but I know what I said is true.
			string_id message = new string_id (c_stringFile, "s_105");
			utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You mean the pirate who's henchman sent you to see me? 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Make it 100?
	if (response == "s_42")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: 150...take it or leave it.
			string_id message = new string_id (c_stringFile, "s_39");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Fine, here.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, the pirate you owe money.
	if (response == "s_43")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: And you are the guy that will help me. Now that we both know our place, you can pay up.
			string_id message = new string_id (c_stringFile, "s_47");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Make it 100?
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_48");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: This is a waste. I'll see you in the dungeon.
	if (response == "s_52")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh, the Stronghold has a dungeon now? Did you dig that yourself. You're a real sharp one.
			string_id message = new string_id (c_stringFile, "s_54");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Make it 100?
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_56");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: And you are the guy that will help me. Now that we both know our place, you can pay up.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Make it 100?
	if (response == "s_48")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: 150...take it or leave it.
			string_id message = new string_id (c_stringFile, "s_39");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Fine, here.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh, the Stronghold has a dungeon now? Did you dig that yourself. You're a real sharp one.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Make it 100?
	if (response == "s_56")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: 150...take it or leave it.
			string_id message = new string_id (c_stringFile, "s_39");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Fine, here.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Go away.  I'm not talking to anyone today.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Jinkins sent me. You like credits?
	if (response == "s_60")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: Credits, eh? I am a bit light in the pocket today. Obviously if Jinkins sent you, you need information. But the price of knowledge is steep. What are you offering? 
			string_id message = new string_id (c_stringFile, "s_71");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How about 50 credits?
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who are you?
			boolean hasResponse1 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_122");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Credits, eh? I am a bit light in the pocket today. Obviously if Jinkins sent you, you need information. But the price of knowledge is steep. What are you offering? 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How about 50 credits?
	if (response == "s_73")
	{
		moore_lok_cantina_action_pay50 (player, npc);

		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: A modest fee. You'll probably want to know about the Imperial mine where I once served the Empire. The mine is guarded by droidekas? Is that what you're here for?
			string_id message = new string_id (c_stringFile, "s_75");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Droidekas?
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the Imperial mine.
			boolean hasResponse1 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who are you?
	if (response == "s_122")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: Who are you? Some sort of Imperial assassin? I'm not going to make your job easier by confirming my identity. Now leave me alone.
			string_id message = new string_id (c_stringFile, "s_123");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How about 50 credits?
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who are you?
			boolean hasResponse1 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_122");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A modest fee. You'll probably want to know about the Imperial mine where I once served the Empire. The mine is guarded by droidekas? Is that what you're here for?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Droidekas?
	if (response == "s_77")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, the so-called 'destroyer droids' used by the Trade Federation during the Clone Wars. The Empire has a stockpile of the droids and has reprogrammed them to guard various installations across the galaxy, including a research station and the mine here on Lok. The droidekas are programmed to attack anyone who shouldn't be there.
			string_id message = new string_id (c_stringFile, "s_79");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about the Imperial mine.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What about Imperials in the mine?
			boolean hasResponse1 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_82");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_115");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the Imperial mine.
	if (response == "s_86")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: It's a mine. Minerals and gasses are mined and used by the Empire or sold for profit. There is limited Imperial presence at the base. Mainly Droidekas. 
			string_id message = new string_id (c_stringFile, "s_88");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You mentioned Droidekas?
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No Imperials at the base?  Explain.
			boolean hasResponse1 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_109");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_112");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, the so-called 'destroyer droids' used by the Trade Federation during the Clone Wars. The Empire has a stockpile of the droids and has reprogrammed them to guard various installations across the galaxy, including a research station and the mine here on Lok. The droidekas are programmed to attack anyone who shouldn't be there.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the Imperial mine.
	if (response == "s_82")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: It's a mine. Minerals and gasses are mined and used by the Empire or sold for profit. There is limited Imperial presence at the base. Mainly Droidekas. 
			string_id message = new string_id (c_stringFile, "s_88");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You mentioned Droidekas?
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No Imperials at the base?  Explain.
			boolean hasResponse1 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_109");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_112");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What about Imperials in the mine?
	if (response == "s_115")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: That kind of information requires credits, my friend.
			string_id message = new string_id (c_stringFile, "s_116");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I could spare 100 credits...
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_117");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That kind of information requires credits, my friend.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I could spare 100 credits...
	if (response == "s_117")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			moore_lok_cantina_action_pay100 (player, npc);

			//-- NPC: There's a feud between an Imperial General Otto and other Imperials. To keep Otto from meddling in the affairs of the Lok research facility and mine, it was built in relative secrecy and staffed with mercenaries and droids rather than requisitioned soldiers.
			string_id message = new string_id (c_stringFile, "s_118");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I guess that's all I need.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How can I get past the Droideka?
			boolean hasResponse1 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Who is General Otto?
			boolean hasResponse2 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_119");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_120");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's a mine. Minerals and gasses are mined and used by the Empire or sold for profit. There is limited Imperial presence at the base. Mainly Droidekas. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You mentioned Droidekas?
	if (response == "s_109")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, the so-called 'destroyer droids' used by the Trade Federation during the Clone Wars. The Empire has a stockpile of the droids and has reprogrammed them to guard various installations across the galaxy, including a research station and the mine here on Lok. The droidekas are programmed to attack anyone who shouldn't be there.
			string_id message = new string_id (c_stringFile, "s_79");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about the Imperial mine.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What about Imperials in the mine?
			boolean hasResponse1 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_82");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_115");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No Imperials at the base?  Explain.
	if (response == "s_112")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'll need more credits to divulge that information.
			string_id message = new string_id (c_stringFile, "s_113");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I could spare 100 credits...
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_114");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'll need more credits to divulge that information.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I could spare 100 credits...
	if (response == "s_114")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			moore_lok_cantina_action_pay100 (player, npc);

			//-- NPC: There's a feud between an Imperial General Otto and other Imperials. To keep Otto from meddling in the affairs of the Lok research facility and mine, it was built in relative secrecy and staffed with mercenaries and droids rather than requisitioned soldiers.
			string_id message = new string_id (c_stringFile, "s_118");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I guess that's all I need.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How can I get past the Droideka?
			boolean hasResponse1 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Who is General Otto?
			boolean hasResponse2 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_119");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_120");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There's a feud between an Imperial General Otto and other Imperials. To keep Otto from meddling in the affairs of the Lok research facility and mine, it was built in relative secrecy and staffed with mercenaries and droids rather than requisitioned soldiers.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I guess that's all I need.
	if (response == "s_119")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			moore_lok_cantina_action_finishMooreInterview (player, npc);

			//-- NPC: Good, because that's all I'm saying. You don't need to know any more than that.
			string_id message = new string_id (c_stringFile, "s_121");
			utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How can I get past the Droideka?
	if (response == "s_120")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's all I'm saying. You don't need to know any more than that.
			string_id message = new string_id (c_stringFile, "s_124");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: But..
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_125");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who is General Otto?
	if (response == "s_108")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: He is an Imperial General on Lok. That is all you need to know.
			string_id message = new string_id (c_stringFile, "s_110");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I guess that's all I need.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How can I get past the Droideka?
			boolean hasResponse1 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Who is General Otto?
			boolean hasResponse2 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_119");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_120");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's all I'm saying. You don't need to know any more than that.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: But..
	if (response == "s_125")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			moore_lok_cantina_action_finishMooreInterview (player, npc);

			//-- NPC: Now go. I can't be seen talking to the likes of you.
			string_id message = new string_id (c_stringFile, "s_126");
			utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He is an Imperial General on Lok. That is all you need to know.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I guess that's all I need.
	if (response == "s_119")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			moore_lok_cantina_action_finishMooreInterview (player, npc);

			//-- NPC: Good, because that's all I'm saying. You don't need to know any more than that.
			string_id message = new string_id (c_stringFile, "s_121");
			utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How can I get past the Droideka?
	if (response == "s_120")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's all I'm saying. You don't need to know any more than that.
			string_id message = new string_id (c_stringFile, "s_124");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: But..
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_125");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who is General Otto?
	if (response == "s_108")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: He is an Imperial General on Lok. That is all you need to know.
			string_id message = new string_id (c_stringFile, "s_110");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I guess that's all I need.
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How can I get past the Droideka?
			boolean hasResponse1 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Who is General Otto?
			boolean hasResponse2 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_119");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_120");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int moore_lok_cantina_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Who are you? Some sort of Imperial assassin? I'm not going to make your job easier by confirming my identity. Now leave me alone.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How about 50 credits?
	if (response == "s_73")
	{
		moore_lok_cantina_action_pay50 (player, npc);

		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: A modest fee. You'll probably want to know about the Imperial mine where I once served the Empire. The mine is guarded by droidekas? Is that what you're here for?
			string_id message = new string_id (c_stringFile, "s_75");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Droidekas?
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the Imperial mine.
			boolean hasResponse1 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who are you?
	if (response == "s_122")
	{
		//-- [NOTE] 
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			//-- NPC: Who are you? Some sort of Imperial assassin? I'm not going to make your job easier by confirming my identity. Now leave me alone.
			string_id message = new string_id (c_stringFile, "s_123");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How about 50 credits?
			boolean hasResponse0 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who are you?
			boolean hasResponse1 = false;
			if (moore_lok_cantina_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_122");

				utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isTangible (self)) || (isPlayer (self)))
		detachScript(self, "conversation.moore_lok_cantina");

	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.moore_lok_cantina");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (moore_lok_cantina_condition_hasCompleted2ndMoore (player, npc))
	{
		//-- NPC: Your next visit is really going to cost you.
		string_id message = new string_id (c_stringFile, "s_69");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (moore_lok_cantina_condition_has2ndInterviewTask (player, npc))
	{
		//-- NPC: What are you, a stalker? Go away!
		string_id message = new string_id (c_stringFile, "s_31");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Kole sent me. Tell me...
		boolean hasResponse0 = false;
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_32");

			utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 2);

			npcStartConversation (player, npc, "moore_lok_cantina", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (moore_lok_cantina_condition_hasCompletedMoore (player, npc))
	{
		//-- NPC: You are starting to make me angry.
		string_id message = new string_id (c_stringFile, "s_127");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (moore_lok_cantina_condition_hasMooreTask (player, npc))
	{
		//-- NPC: Go away.  I'm not talking to anyone today.
		string_id message = new string_id (c_stringFile, "s_61");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Jinkins sent me. You like credits?
		boolean hasResponse0 = false;
		if (moore_lok_cantina_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_60");

			utils.setScriptVar (player, "conversation.moore_lok_cantina.branchId", 18);

			npcStartConversation (player, npc, "moore_lok_cantina", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (moore_lok_cantina_condition__defaultCondition (player, npc))
	{
		//-- NPC: Go away. I'm not talking to anyone today.
		string_id message = new string_id (c_stringFile, "s_128");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "moore_lok_cantina")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.moore_lok_cantina.branchId");

	if (branchId == 2 && moore_lok_cantina_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && moore_lok_cantina_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && moore_lok_cantina_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && moore_lok_cantina_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && moore_lok_cantina_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && moore_lok_cantina_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && moore_lok_cantina_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && moore_lok_cantina_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && moore_lok_cantina_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && moore_lok_cantina_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && moore_lok_cantina_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && moore_lok_cantina_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && moore_lok_cantina_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && moore_lok_cantina_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && moore_lok_cantina_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && moore_lok_cantina_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && moore_lok_cantina_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && moore_lok_cantina_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && moore_lok_cantina_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && moore_lok_cantina_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && moore_lok_cantina_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && moore_lok_cantina_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && moore_lok_cantina_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && moore_lok_cantina_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && moore_lok_cantina_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.moore_lok_cantina.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

